--- 
layout: post 
title: php和python的正则表达式应用 
category: 技术 
tags: 正则 php python
---

一个正则表达式（Regular Expression）通常被称为一个模式（pattern），为用来描述或者匹配一系列符合某个句法规则的字符串。这是一个计算机科学中的概念。  
我在此前的离散数学的形式化语言介绍中接触过这个概念，但没有实际在程序中使用过。现在专门学习一下php和python中的正则表达式语法和代码，学习巩固，并留给自己日后参考。

# 正则表达式语法

## 组成

> 正则表达式是由普通字符（例如字符 a 到 z）以及特殊字符（称为元字符）组成的文字模式。正则表达式作为一个模板，将某个字符模式与所搜索的字符串进行匹配。

- 普通字符：由所有那些未显式指定为元字符的**打印和非打印字符**组成。这包括所有的大写和小写字母字符，所有数字，所有标点符号以及一些符号。
- 特殊字符：一些有特殊含义的字符，如果要查找文件名中有特殊字符的文件，则需要对特殊字符进行转义。
 - 限定符：指定正则表达式的一个给定组件必须要出现多少次才能满足匹配。有\*或+或?或{n}或{n,}或{n,m}共6种。- \*、+和?限定符都是贪婪的，因为它们会尽可能多的匹配文字，只有在它们的后面加上一个?就可以实现非贪婪或最小匹配。
 - 定位符：用来描述字符串或单词的边界，^和$分别指字符串的开始与结束，\b描述单词的前或后边界，\B表示非单词边界。不能对定位符使用限定符。
 - 选择:用圆括号将所有选择项括起来，相邻的选择项之间用|分隔。

## 优先级

相同优先级的从左到右进行运算，不同优先级的运算先高后低。各种操作符的优先级从高到低如下：
- 转义符：\
- 圆括号和方括号：(), (?:), (?=), []
- 限定符：*, +, ?, {n}, {n,}, {n,m}
- 位置和顺序：^, $, \anymetacharacter
- “或”操作：|

## 相关概念

- 字符簇：把所有的需要的字符放在一个方括号，表示一个字符。用连字号可以表示一个字符的范围，如[a-z]匹配所有的小写字母，[a-zA-Z]匹配所有的字母。PHP的正规表达式有一些内置的通用字符簇。
 - ^表示字符串的开头，但它还有另外一个含义。当在一组方括号里使用^是，它表示“非”或“排除”的意思，常常用来剔除某个字符。如[^a-z]除了小写字母以外的所有字符 

至此语法介绍完毕，下面学习一些常用的例子。

# 例子

PHP - 验证名称

{% highlight php %}
$name = test_input($_POST["name"]);
if (!preg_match("/^[a-zA-Z ]*$/",$name)) {
  $nameErr = "只允许字母和空格"; 
}
{% highlight php %}