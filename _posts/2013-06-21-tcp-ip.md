--- 
layout: post 
title: OSI模型和TCP/IP 
category: Tech 
tags: 模型 TCP IP 
---

提到网络，就不得不提OSI（Open System Interconnect）模型，理解了该模型中的各个层次的作用和相互之间的关系，对于理解常用的网络协议是很有帮助的。

## OSI模型

OSI中的层 | 功能 | TCP/IP协议族 | 部分设备
应用层 | 文件传输，电子邮件，文件服务，虚拟终端 | TFTP，HTTP，SNMP，FTP，SMTP，DNS，Telnet
表示层 | 数据格式化，代码转换，数据加密 | 没有协议
会话层 | 解除或建立与别的接点的联系 | 没有协议
传输层 | 提供端对端的接口 | TCP，UDP | 四层交换机、也有工作在四层的路由器
网络层 | 为数据包选择路由 | IP，ICMP，RIP，OSPF，BGP，IGMP | 路由器、三层交换机
数据链路层 | 传输有地址的帧以及错误检测功能 | SLIP，CSLIP，PPP，ARP，RARP，MTU | 网桥、以太网交换机、网卡
物理层 | 以二进制数据形式在物理媒体上传输数据 | ISO2110，IEEE802，IEEE802.2 | 中继器、集线器、双绞线

上三层总称应用层，用来控制软件方面。下四层总称数据流层，用来管理硬件。除了物理层之外其他层都是用软件实现的。  
数据在发至数据流层的时候将被拆分。  
在传输层的数据叫段，网络层叫包，数据链路层叫帧，物理层叫比特流，这样的叫法叫PDU（协议数据单元）。
![]({{ site.baseurl }}/public/image/tcp-ip-1.jpg)

## 常用TCP/IP协议族的协议

常用的IP协议工作在网络层，TCP协议工作在传输层。这些底层协议是应用层协议（如web开发中常用的HTTP协议、SMTP协议）等的基础。

- TCP/IP 意味着 TCP 和 IP 在一起协同工作。
- TCP 负责应用软件（比如您的浏览器）和网络软件之间的通信。
- IP 负责计算机之间的通信。
- TCP 负责将数据分割并装入 IP 包，然后在它们到达的时候重新组合它们。
- IP 负责将包发送至接受者。

### IP协议

- IP 用于计算机之间的通信。  
- IP 是无连接的通信协议。它不会占用两个正在通信的计算机之间的通信线路。这样，IP 就降低了对网络线路的需求。每条线可以同时满足许多不同的计算机之间的通信需要。  
- 通过 IP，消息（或者其他数据）被分割为小的独立的包，并通过因特网在计算机之间传送。  
- IP 负责将每个包路由至它的目的地。  

### TCP协议

- TCP 用于应用程序之间的通信。
- 当应用程序希望通过 TCP 与另一个应用程序通信时，它会发送一个通信请求。这个请求必须被送到一个确切的地址。在双方"握手"之后，TCP 将在两个应用程序之间建立一个全双工 (full-duplex) 的通信。
- 这个全双工的通信将占用两个计算机之间的通信线路，直到它被一方或双方关闭为止。
- UDP 和 TCP 很相似，但是更简单，同时可靠性低于 TCP。

#### 握手

- SYN（synchronous）是TCP/IP建立连接时使用的握手信号。
- ACK (Acknowledgement），即确认字符，在数据通信中，接收站发给发送站的一种传输类控制字符。表示发来的数据已确认接收无误。
- FIN 关闭连接时的报文。

![]({{ site.baseurl }}/public/image/tcp-ip-2.gif)

图片来自[该TCP握手教程](http://blog.csdn.net/whuslei/article/details/6667471)。

## 感想

这些内容在考计算机新三级网络工程师的时候都学过，现在只是复习一遍。TCP/IP协议绝对是网络编程的重中之重。现在我的重点在于就业，就业后是补基础。  
就业是熟悉框架和php语言基础，做一个合格的码农。  
计算机专业基础包括：数据结构、计算机组成、操作系统、计算机网络。